package:
  name: 'tofu'
  version: {{ environ['VERSION'] }}

source:
  git_url: https://github.com/ToFuProject/tofu.git
  #git_branch: {{ environ['TRAVIS_BRANCH'] }}
  git_rev: {{ environ['REV'] }}
  # "patches:" might be the answer for clang compilers ?

build:
  script_env:
    #   - REV
    - VERSION
    - TRAVIS_BRANCH
    - CONDA_BLD_PATH

requirements:

  # build: necessary for build.sh
  # here same as run, as we are using cython
  build:
    - python
    - setuptools
    - setuptools_scm
    - numpy
    - scipy
    - matplotlib
    - cython
    - nose
    - pygments
    - pandas
    - polygon2 # [py27]
    - polygon3 # [not py27]
    - funcsigs # [py27]


  # for running the library
  run:
    - python
    - setuptools
    - setuptools_scm
    - numpy
    - scipy
    - matplotlib
    - cython
    - nose
    - pygments
    - pandas
    - polygon2 # [py27]
    - polygon3 # [not py27]
    - funcsigs # [py27]

test:
  requires:
    - nose
    - polygon2 # [py2k]
    - polygon3 # [not py27]
  imports:
    - tofu.geom

about:
  home: https://github.com/ToFuProject/tofu
  license: MIT
  license_file: LICENSE.txt
  summary: Tomography for Fusion

# conda build -c tofuproject conda_recipe/
