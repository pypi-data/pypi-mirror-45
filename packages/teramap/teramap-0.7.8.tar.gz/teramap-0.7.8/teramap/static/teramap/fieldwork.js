var teramap=function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=28)}([function(e,t){e.exports=L},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function a(e){return"is_primary"in e&&e.is_primary}function r(e){e.sort(function(e,t){return a(e)&&!a(t)?-1:a(t)&&!a(e)?1:e.name<t.name?-1:1})}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=["subjects","groups"];if(n.forEach(function(e){if(0===Object.keys(t[e]).length)throw new Error("No "+e+" provided")}),0===Object.keys(t.species).length&&!t.species_url)throw new Error("Either species or species_url (or both) should be defined");var i=this;if(n.concat(["species","pinpoint_target","species_url"]).forEach(function(e){t[e]&&(i[e]=t[e])}),this.pinpoint_observation="observation"==t.pinpoint_target,this.sample_attrs=t.sample_attrs||{},this.active_species=function(e){var t=[],n=e.species;for(var i in n)(a(n[i])||n[i].is_active)&&t.push(n[i]);return r(t),t.map(function(e){return e.pk})}(t),this.eachGroup(function(e){e.species=[]}),this.species)for(var o in this.species){var s=this.species[o];this.groups[s.group].species.push(+o)}}return i(e,[{key:"activateSpecies",value:function(e,t){this.species[e]||(this.species[e]=t,this.groups[t.group].species.push(e)),this.species[e].is_active=!0,-1===this.active_species.indexOf(e)&&this.active_species.push(e)}},{key:"eachSubject",value:function(e,t){(void 0!==t?this.groups[t].subjects:Object.keys(this.subjects)).forEach(function(t){e(this.subjects[t],t)},this)}},{key:"eachSubjectName",value:function(e){var t={};for(var n in this.eachSubject(function(e,n){e in t||(t[e]=[]),t[e].push(+n)}),t)e(n,t[n])}},{key:"_eachSpecies",value:function(e,t,n){for(var i in this.species)t&&!t(this.species[i])||e.call(n,this.species[i],this.species[i].pk)}},{key:"eachActiveSpecies",value:function(e,t){var n=this.active_species;if(void 0!==t){var i=this.groups[t].species;n=n.filter(function(e){return-1!==i.indexOf(e)})}r(n=n.map(function(e){return this.species[e]},this)),n.forEach(function(t){e(t,t.pk)},this)}},{key:"eachSelectableSpecies",value:function(e,t){var n=!1;void 0!==t&&(n=this.groups[t].species),this._eachSpecies(e,function(e){return(!n||-1!==n.indexOf(e.pk))&&!(a(e)||e.is_active)})}},{key:"eachGroup",value:function(e){for(var t in this.groups)e(this.groups[t],t)}},{key:"getGroupForSpecies",value:function(e){for(var t in this.groups){var n=this.groups[t];if(-1!==n.species.indexOf(e.pk))return n}}},{key:"selectSubjectForSpecies",value:function(e,t){var n;return this.getGroupForSpecies(t).subjects.forEach(function(t){-1!==e.indexOf(t)&&(n=t)}),n}},{key:"hasSampleAttrs",value:function(){return!this.pinpoint_observation&&Object.keys(this.sample_attrs).length>0}},{key:"eachSampleAttr",value:function(e){for(var t in this.sample_attrs)e(this.sample_attrs[t],t)}}]),e}();t.is_primary=a,t.Protocol=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numberMarker=t.numberIcon=t.NumberIcon=void 0;var i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(0),o=(i=r)&&i.__esModule?i:{default:i};n(3);var s=o.default.NumberIcon=o.default.DivIcon.extend({options:{html:"",shadowUrl:null,iconSize:new o.default.Point(20,20),className:"leaflet-number-marker"}}),c=o.default.numberIcon=function(e){var t="object"==(void 0===e?"undefined":a(e))?e:{html:e};return new o.default.NumberIcon(t)},u=o.default.numberMarker=function(e,t){return o.default.marker(e,{icon:o.default.numberIcon(t)})};t.NumberIcon=s,t.numberIcon=c,t.numberMarker=u},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1);t.default=function(e){var t=this.protocol=new a.Protocol(e.protocol),n=t.pinpoint_observation;this.samples=e.initial_data||[],n&&0===this.samples.length&&this.samples.push({observations:[]});try{this.samples.forEach(function(e){e.observations.forEach(function(e){e.species&&t.activateSpecies(e.species)})})}catch(e){throw new Error("Could not activate species for initial data. Make sure all species refered to in initial_data are present in protocol.species.")}function r(e){return[(e=L.latLng(e)).lat,e.lng]}this.updateAttribute=function(e,t,n){this.getSample(e).attributes[t]=n},this.getSample=function(e){return n?this.samples[0]:(this.samples.forEach(function(n){n.name==e&&(t=n)}),t);var t},this.getObservation=function(e,t,i){var a,r=this.getSample(e);return r.observations.forEach(function(o){if(n)o.name===e&&(a=o);else{var s=o.species==t&&o.subject==i;r.name==e&&s&&(a=o)}}),a},this.removeObservation=function(e,t,i){var a=this.getSample(e),r=this.getObservation(e,t,i),o=a.observations.indexOf(r);n?r.count=void 0:a.observations.splice(o,1)},this.updateCount=function(e,i,r,o){void 0!==o&&""!==o&&(o=Math.abs(+o));var s=t.species[i],c=this.getSample(e),u=this.getObservation(e,i,r);u&&L.extend(u,{species:i,subject:r,count:o}),!(0,a.is_primary)(s)&&void 0===o||""===o?u&&this.removeObservation(e,i,r):u||n||c.observations.push({species:i,subject:r,count:o})},this.observedCount=function(e,t,n){var i=this.getObservation(e,t,n);return i?i.count:void 0},this.next_pin_name=function(){var e=0;return this.samples.forEach(function(t){n?t.observations.forEach(function(t){e=Math.max(e,+t.name)}):e=Math.max(e,+t.name)}),""+(e+1)},this.createPin=function(e){var t={name:this.next_pin_name(),delete_on_cancel:!0};return n?this.getSample().observations.push(t):(L.extend(t,{observations:[],attributes:{}}),this.samples.push(t)),e&&(t.latlng=r(e)),t},this.createMarker=function(e){var t=(0,i.numberMarker)(e.latlng,e.name);return t.feature={properties:e},t},this.setLatLng=function(e,t){this.getPin(e).latlng=r(t)},this.getPin=function(e){return n?this.getObservation(e):this.getSample(e)},this.eachPin=function(e){var t=n?this.samples[0].observations:this.samples;for(var i in t)e(t[i],i)},this.hasObservations=function(e){var t=this.getPin(e);return void 0!==t&&(n?"species"in t:t.observations.length>0)},this.removePin=function(e){var t;for(var i in t=n?this.getSample().observations:this.samples)t[i].name==e&&t.splice(i,1)},this.tableData=function(){var e=[],i=[o("location"),o("species")];n?i.push(o("subject"),o("count")):t.eachSubjectName(function(e){i.push(e)}),e.push(i);var r=this;return this.samples.forEach(function(i){if(n)i.observations.forEach(function(n){var i=t.species[n.species],a=t.subjects[n.subject];e.push([n.name,i,a,n.count])});else{if(i.observations.length<1){var s=[i.name,{name:o("no observations")}];return t.eachSubjectName(function(){s.push("")}),void e.push(s)}t.eachActiveSpecies(function(n){var o=[];t.eachSubjectName(function(e,a){var s=t.selectSubjectForSpecies(a,n);o.push(r.observedCount(i.name,n.pk,s))}),((0,a.is_primary)(n)||o.some(function(e){return void 0!==e}))&&e.push([i.name,n].concat(o))})}}),e},this.serialize=function(){return JSON.stringify(this.samples,null,2)},this._=function(t,n){var i=t;return"messages"in e&&(i=e.messages[t]||t),n?i.charAt(0).toUpperCase()+i.substring(1):i};var o=this._}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n,i,a;for(n=1,i=arguments.length;n<i;n++)for(t in a=arguments[n])e[t]=a[t];return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(7),o=(i=r)&&i.__esModule?i:{default:i},s=n(8);var c=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.form_data=t,this.options=n,this.selector=i}return a(e,[{key:"render",value:function(e){var t,n='<div class="leaflet-number-marker">{name}</div>&nbsp;&nbsp;<span data-pin-name="{name}" class="btn-group btn-group-xs"><span data-target="edit" class="btn btn-default"><i class="fa fa-edit"></i></span>'+(this.options.mapclick_create?'<span data-target="move-marker" class="btn btn-default"><i class="fa fa-map-marker"></i></span>':"")+'<span data-target="delete" class="btn btn-danger"><i class="fa fa-remove"></i></span></span>',i="<thead><tr>";e[0].forEach(function(e){i+="<th>"+e+"</th>"}),i+="</tr>",e.slice(1).forEach(function(e){var a=e[0];i+=void 0===t||t!=a?'<tr class="first"><td>'+(0,o.default)(n,{name:a}):"<tr><td>",i+="</td>",i+="<td>"+(0,s.render_species_name)(e[1])+"</td>",e.slice(2).forEach(function(e){i+="<td>"+(e=void 0===e?"":e)+"</td>"}),t=a}),i+="</tbody>",this.selector.html(i)}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.replace(i,function(e,n){var i=t[n];if(void 0===i)throw new Error("No value provided for variable "+e);return"function"==typeof i&&(i=i(t)),i})};var i=/\{ *([\w_-]+) *\}/g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render_species_name=void 0;var i,a=n(1),r=n(7),o=(i=r)&&i.__esModule?i:{default:i};t.render_species_name=function(e,t){var n=t||"";return(0,a.is_primary)(e)&&(n+=" app-transect-species-primary"),(0,o.default)('<span class="{class}" title="{scientific_name}">{name}</span>',{class:n,scientific_name:e.scientific_name||"",name:e.name||"<em>"+e.scientific_name+"</em>"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(5)),a=o(n(30)),r=n(8);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return'<div class="form-group">'+e+"</div>"}function c(e){e=(0,i.default)({type:"text"},e);var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return"<input "+t.join(" ")+"/>"}t.default=function(e,t){var n=e._,i=e.protocol;this.modal=function(o,u){var l=e.getPin(u);o.data("name",u),o.find(".pinpoint-name").html('<div class="leaflet-number-marker">'+u+"</div>"),o.find("form").html('<div class="modal-body"></div>');var p=o.find(".modal-header");if(p.find("label").remove(),t.enable_fix_location_checkbox){p.prepend('<label class="pull-right"><input type="checkbox" /> '+n("fix location",!0)+"</label>");var f="fix_location"in l&&!0===l.fix_location;p.find("input[type=checkbox]").prop("checked",f)}var d=o.find(".modal-body"),h="";i.hasSampleAttrs()&&(h+="<h4>"+n("attributes",!0)+"</h4>",i.eachSampleAttr(function(e,t){var n='<label class="control-label col-sm-4">'+e.name+"</label>";n+='<div class="col-sm-6">';var i=l.attributes[t]||"";e.choices&&e.choices.length>0?(n+='<select data-sample-attr="'+t+'" class="form-control">',e.choices.forEach(function(e){var t=e[0]==i?'selected="selected"':"";n+='<option value="'+e[0]+'" '+t+">"+e[1]+"</option>"}),n+="</select>"):n+=c({type:-1!==["number","color","date","month","password","range","time","text"].indexOf(e.type)?e.type:"text",class:"form-control","data-sample-attr":t,value:i}),h+=s(n+="</div>")}),d.append(h));var v=$(t.modal_selector).find(".modal-content"),m=new a.default(i,v,n("type the first 4 letters of the species name and select a species",!0));if(i.pinpoint_observation){d.append(s('<select class="form-control species-selector"></select><select class="form-control subject-selector"><option disabled="disabled">'+n("select species first",!0)+"</option></select> "+c({class:"form-control number-input",min:0,name:"count",placeholder:"count"})));var b=e.getObservation(u),_=void 0;if(b&&b.species||!i.species_url&&1==Object.keys(i.species).length){var g=b&&b.species?b.species:Object.keys(i.species)[0];_=i.species[g]}m.render(d.find(".species-selector"),_).on("change",function(){var e=$(this).select2("data")[0];e&&e.original&&k(e.original)});var y=d.find(".subject-selector"),k=function(e){i.activateSpecies(e.pk,e);var n=+y.val(),a=!1,r=[];i.eachSubject(function(e,t){r.push({id:t,text:e}),t==n&&(a=!0)},e.group),y.empty().select2({dropdownParent:$(t.modal_selector).find(".modal-content"),data:r}),n&&a&&y.val(n).trigger("change")};_&&k(_),b&&b.subject&&b.count&&b.subject&&(y.val(b.subject).trigger("change"),d.find('[name="count"]').val(b.count))}else h='<table class="table app-transect-table">',i.eachGroup(function(t){h+="<tr><th>"+t.name+"</th>",i.eachSubject(function(e){h+="<td>"+e+"</td>"},t.pk),h+="</tr>",i.eachActiveSpecies(function(n){h+=function(t,n,a){var o="<tr><td>"+(0,r.render_species_name)(n,"form-control-static text-right")+"</td>";return i.eachSubject(function(i,a){var r=e.observedCount(t,n.pk,a);void 0===r&&(r="");var s=c({class:"form-control app-transect-subject-input number-input center-block","data-species":n.pk,"data-subject":a,value:r});o+="<td>"+s+"</td>"},a.pk),o+="</tr>"}(u,n,t)},t.pk),h+=function(e){var t=0;return i.eachSubject(function(){t++},e.pk),'<tr><td><select class="form-control species-selector" data-group="'+e.pk+'"></select></td><td colspan="'+t+'"></td></tr>'}(t)}),h+="</table>",d.append(h),i.eachGroup(function(e){m.set_group(e).render($('.species-selector[data-group="'+e.pk+'"]'))});o.find("form").toggleClass("form-inline",i.pinpoint_observation).toggleClass("form-horizontal",!i.pinpoint_observation)}}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fieldwork=void 0;var i=c(n(4)),a=c(n(29)),r=c(n(6)),o=c(n(9)),s=n(1);function c(e){return e&&e.__esModule?e:{default:e}}n(31);var u={Protocol:s.Protocol,PinpointController:a.default,Pinpoint:i.default,PinpointModal:o.default,PinpointTable:r.default,is_primary:s.is_primary};t.fieldwork=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=c(n(5)),r=c(n(4)),o=c(n(6)),s=c(n(9));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=t,this.options=i=(0,a.default)({output_selector:"[name=samples]",modal_selector:"#pinpoint_form",table_selector:"#observations",mapclick_create:!0,create_button_selector:"",enable_fix_location_checkbox:!1,default_fix_location_state:!0,warn_for_unsaved_changes:!0},i),this.modal=$(i.modal_selector),this.table=$(i.table_selector);try{var c=this.form_data=new r.default(n)}catch(e){return void this.table.html("<h1>Error in protocol: <em>"+e+"</em></h1>")}this.renderer=new s.default(this.form_data,i),this._=this.form_data._,this.markers={},this.editing_state=!1,this.tableRenderer=new o.default(c,i,this.table);var u=this;i.mapclick_create&&t.on("click",function(e){if(!u.editing_state){var t=c.createPin(e.latlng);i.enable_fix_location_checkbox&&(t.fix_location=i.default_fix_location_state),u.addMapMarker(c.createMarker(t)),u.showEditor(t.name)}}),i.create_button_selector&&$(i.create_button_selector).on("click",function(){var e=c.createPin();u.showEditor(e.name)});var l=L.latLngBounds();t.geojson_layer&&l.extend(t.geojson_layer.getBounds()),c.eachPin(function(e){if(e.latlng){var t=u.addMapMarker(c.createMarker(e));l.extend(t.getLatLng())}},this),l.isValid()&&t.fitBounds(l.pad(.2)),this.update(),this.initModal(),this.table.on("click","[data-target]",function(){var e=""+$(this).parent().data("pin-name");switch($(this).data("target")){case"move-marker":var n=u.markers[e];alert(c._("click on map to choose new location")),u.editing_state=!0,t.once("click",function(t){L.DomEvent.preventDefault(t),c.setLatLng(e,t.latlng),n.setLatLng(t.latlng),u.update(),u.editing_state=!1,u.dirty=!0});break;case"delete":u.dirty=!0,u.removePin(e);break;default:u.showEditor(e)}}),u.dirty=!1,i.warn_for_unsaved_changes&&(window.onbeforeunload=function(){if(u.dirty)return!0},$(i.output_selector).parents("form").find('input[type="submit"]').on("click",function(){window.onbeforeunload=null}))}return i(e,[{key:"initModal",value:function(){var e=this.modal,t=this.form_data,n=t._,i=this.renderer,a=this,r=t.protocol.pinpoint_observation;e.on("shown.bs.modal",function(){$(this).find("input").first().focus()}),e.on("hidden.bs.modal",function(){a.update()}),r||e.on("select2:close",".species-selector",function(){var n=e.data("name"),r=+$(this).val();if(""!=r){var o=$(this).select2("data")[0];e.find(".select2-hidden-accessible").select2("destroy"),a.saveEditorData(!0),t.protocol.activateSpecies(r,o.original),i.modal(e,n),e.find('input[data-species="'+r+'"]').first().focus()}});var o=function(){if(r){var t=function(t){var n=$(e).find(t).val();return""!=n&&void 0!=n&&null!=n};if(!t(".species-selector"))return void alert(n("you must select a species",!0));if(!t(".subject-selector"))return void alert(n("you must select a subject",!0))}a.saveEditorData(),e.modal("hide")};e.on("click","[data-save]",o),e.on("keypress",function(e){13==e.which&&(o(),e.preventDefault())}),e.on("click","[data-dismiss]",function(){var n=t.getPin($(e).data("name"));"delete_on_cancel"in n&&a.removePin(n.name,!0),a.update(),e.modal("hide")})}},{key:"showEditor",value:function(e){this.renderer.modal(this.modal,e),this.modal.modal({backdrop:"static",keyboard:!1})}},{key:"addMapMarker",value:function(e){var t=this;return e.addTo(this.map),e.on("click",function(e){t.showEditor(e.target.feature.properties.name),L.DomEvent.stopPropagation(e)}),this.markers[e.feature.properties.name]=e,e}},{key:"removePin",value:function(e,t){var n=this.form_data._;return!(!t&&!confirm(n("are you sure you want to delete this observation?",!0)))&&(this.markers[e]&&this.markers[e].removeFrom(this.map),this.form_data.removePin(e),this.update(),!0)}},{key:"saveEditorData",value:function(e){e=!0===e;var t=this.modal.data("name"),n=this.form_data,i=n.getPin(t),a=this.modal;n.protocol.pinpoint_observation?n.updateCount(t,+$(".species-selector").val(),+$(".subject-selector").val(),a.find("input.number-input").val()):(i.not_counted&&(i.not_counted=!1),a.find("[data-sample-attr]").each(function(){var e=$(this);n.updateAttribute(t,+e.data("sample-attr"),e.val())}),a.find("input.number-input").each(function(){var e=$(this);n.updateCount(t,+e.data("species"),+e.data("subject"),e.val())})),this.options.enable_fix_location_checkbox&&(i.fix_location=a.find("input[type=checkbox]").prop("checked")),e||(delete i.delete_on_cancel,this.dirty=!0)}},{key:"update",value:function(){$(this.options.output_selector).val(this.form_data.serialize());var e=this.form_data.tableData();this.tableRenderer.render(e)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1);function r(e){return function(t){return{original:t,id:void 0===t.id?t.pk:t.id,text:t.name||"<em>"+t.scientific_name+"</em>",is_primary:(0,a.is_primary)(t),group:t.group||e.getGroupForSpecies(t)}}}var o=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.protocol=t,this.group=void 0,this.dropdownParent=n,this.placeholder=i}return i(e,[{key:"data",value:function(){var e=this.protocol,t=[];function n(e){t.push(e)}return e.pinpoint_observation&&e.eachActiveSpecies(n,this.group),e.eachSelectableSpecies(n,this.group),t=t.map(r(e)),t.unshift({id:"",text:this.placeholder}),t}},{key:"set_group",value:function(e){return this.group=e.pk,this}},{key:"render",value:function(e,t){var n={dropdownParent:this.dropdownParent,escapeMarkup:function(e){return e},templateResult:function(e){return"is_primary"in e&&(0,a.is_primary)(e)?'<span class="app-transect-species-primary">'+e.text+"</span>":e.text}};if(this.protocol.species_url){var i=r(this.protocol),o=this.group;if(n.placeholder=this.placeholder,n.ajax={url:this.protocol.species_url,dataType:"json",data:function(e){return{json:!0,group:o,search:e.term,page:e.page||1}},processResults:function(e){return e.results=e.results.map(i),e}},e.select2(n),t){var s=i(t),c=new Option(s.text,s.id,!0,!0);e.append(c),e.trigger({type:"select2:change",params:{data:s}})}}else{if(n.data=this.data(),1==n.data.length)return e.hide(),!1;e.select2(n),t&&e.val(t.pk).trigger("change")}return e}}]),e}();t.default=o},function(e,t){}]);