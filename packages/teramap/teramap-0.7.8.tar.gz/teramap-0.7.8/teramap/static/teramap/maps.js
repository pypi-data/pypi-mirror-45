var teramap=function(e){var t={};function i(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=10)}([function(e,t){e.exports=L},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numberMarker=t.numberIcon=t.NumberIcon=void 0;var o,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=i(0),l=(o=s)&&o.__esModule?o:{default:o};i(3);var r=l.default.NumberIcon=l.default.DivIcon.extend({options:{html:"",shadowUrl:null,iconSize:new l.default.Point(20,20),className:"leaflet-number-marker"}}),a=l.default.numberIcon=function(e){var t="object"==(void 0===e?"undefined":n(e))?e:{html:e};return new l.default.NumberIcon(t)},c=l.default.numberMarker=function(e,t){return l.default.marker(e,{icon:l.default.numberIcon(t)})};t.NumberIcon=r,t.numberIcon=a,t.numberMarker=c},function(e,t){},,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numberMarker=t.map_with_geojson=t.featureLayer=t.FeatureLayer=void 0;var o=i(11),n=i(2);t.FeatureLayer=o.FeatureLayer,t.featureLayer=o.featureLayer,t.map_with_geojson=o.map_with_geojson,t.numberMarker=n.numberMarker},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.map_with_geojson=t.featureLayer=t.FeatureLayer=void 0;var o=l(i(0)),n=l(i(12)),s=i(22);function l(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.getBounds?e.getBounds():o.default.latLngBounds(e.getLatLng(),e.getLatLng())}i(26),i(27),t.FeatureLayer=s.FeatureLayer,t.featureLayer=s.featureLayer,t.map_with_geojson=function(e,t){var i=(0,n.default)(e,t);if(t&&t.geojson){var l=(0,s.featureLayer)(t.geojson).addTo(i);i.geojson_layer=l;var a=t.geojson.properties;a&&a.legend&&o.default.control.legend({position:"bottomright",buttonHtml:a["legend-title"]||"legend",items:a.legend}).addTo(i),i.zoomExtent=function(){var e=l.getBounds();e.isValid()&&i.fitBounds(e,{maxZoom:16})},i.zoomExtent(),i.focusOnFeature=function(e,t){var o;l.eachLayer(function(i){var n=i.feature.properties;e in n&&n[e]==t&&(o?o.extend(r(i)):o=r(i))}),i.fitBounds(o,{maxZoom:16})}}return i.reload=function(){i.invalidateSize(),i.geojson_layer&&i.zoomExtent()},i.reload(),i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(i(0));i(13),i(14);var n=i(15);i(18);var s=r(i(19)),l=r(i(20));function r(e){return e&&e.__esModule?e:{default:e}}i(21),o.default.LatLng.toWKT||(o.default.LatLng.prototype.toWKT=function(){return o.default.Util.template("POINT({lng} {lat})",this)}),o.default.Util.parseWKT||(o.default.Util.parseWKT=function(e){if(-1!==e.indexOf("POINT")&&-1!==e.indexOf("(")){var t=e.indexOf("(")+1,i=e.substr(t,e.indexOf(")")-t).split(" ");return o.default.latLng([parseFloat(i[1]),parseFloat(i[0])])}}),t.default=function(e,t){(t=o.default.extend({center:[51,4],zoom:6,callback:o.default.Util.falseFn,baselayers:{map:o.default.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{minZoom:1,maxZoom:19,attribution:"&copy; OpenStreetMap"})},overlays:{},preventAccidentalScroll:!0,scaleControl:!1,fullscreenControl:!0,searchControl:!1,minimap:!1,layersControlOptions:{collapsed:!1}},t||{})).baselayers instanceof o.default.TileLayer&&(t.baselayers={default:t.baselayers}),e=o.default.DomUtil.get(e),o.default.DomUtil.addClass(e,"teramap");var i=o.default.map(e).setView(t.center,t.zoom);i._container.data=i;var r,a=Object.keys(t.baselayers)[0];if(localStorage){var c=localStorage.getItem("teramap-remember-basemap");c&&c in t.baselayers&&(a=c),i.on("baselayerchange",function(e){localStorage.setItem("teramap-remember-basemap",e.name)})}return i.addLayer(t.baselayers[a]),t.layersControlOptions&&(Object.keys(t.baselayers).length>1||Object.keys(t.overlays).length>0)&&(i.layersControl=o.default.control.layers(t.baselayers,t.overlays,t.layersControlOptions),i.layersControl.addTo(i)),t.fullscreenControl&&(r=o.default.extend({postion:"topleft"},t.fullscreenControl),i.fullscreenControl=o.default.control.fullscreen(r).addTo(i)),t.scaleControl&&(r=o.default.extend({imperial:!1},t.scaleControl),i.scale=o.default.control.scale(r).addTo(i)),t.searchControl&&(new n.class).addTo(i),t.preventAccidentalScroll&&(0,s.default)(i),t.minimap&&(r=o.default.extend({minimapLayer:o.default.tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png")},t.minimap),new l.default(t.minimapLayer,r).addTo(i)),"function"==typeof t.callback&&t.callback(i),i}},function(e,t,i){"use strict";L.Control.Fullscreen=L.Control.extend({options:{position:"topleft",title:{false:"View Fullscreen",true:"Exit Fullscreen"}},onAdd:function(e){var t=L.DomUtil.create("div","leaflet-control-fullscreen leaflet-bar leaflet-control");return this.link=L.DomUtil.create("a","leaflet-control-fullscreen-button leaflet-bar-part",t),this.link.href="#",this._map=e,this._map.on("fullscreenchange",this._toggleTitle,this),this._toggleTitle(),L.DomEvent.on(this.link,"click",this._click,this),t},_click:function(e){L.DomEvent.stopPropagation(e),L.DomEvent.preventDefault(e),this._map.toggleFullscreen(this.options)},_toggleTitle:function(){this.link.title=this.options.title[this._map.isFullscreen()]}}),L.Map.include({isFullscreen:function(){return this._isFullscreen||!1},toggleFullscreen:function(e){var t=this.getContainer();this.isFullscreen()?e&&e.pseudoFullscreen?this._disablePseudoFullscreen(t):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this._disablePseudoFullscreen(t):e&&e.pseudoFullscreen?this._enablePseudoFullscreen(t):t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):t.msRequestFullscreen?t.msRequestFullscreen():this._enablePseudoFullscreen(t)},_enablePseudoFullscreen:function(e){L.DomUtil.addClass(e,"leaflet-pseudo-fullscreen"),this._setFullscreen(!0),this.fire("fullscreenchange")},_disablePseudoFullscreen:function(e){L.DomUtil.removeClass(e,"leaflet-pseudo-fullscreen"),this._setFullscreen(!1),this.fire("fullscreenchange")},_setFullscreen:function(e){this._isFullscreen=e;var t=this.getContainer();e?L.DomUtil.addClass(t,"leaflet-fullscreen-on"):L.DomUtil.removeClass(t,"leaflet-fullscreen-on"),this.invalidateSize()},_onFullscreenChange:function(e){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;t!==this.getContainer()||this._isFullscreen?t!==this.getContainer()&&this._isFullscreen&&(this._setFullscreen(!1),this.fire("fullscreenchange")):(this._setFullscreen(!0),this.fire("fullscreenchange"))}}),L.Map.mergeOptions({fullscreenControl:!1}),L.Map.addInitHook(function(){var e;if(this.options.fullscreenControl&&(this.fullscreenControl=new L.Control.Fullscreen(this.options.fullscreenControl),this.addControl(this.fullscreenControl)),"onfullscreenchange"in document?e="fullscreenchange":"onmozfullscreenchange"in document?e="mozfullscreenchange":"onwebkitfullscreenchange"in document?e="webkitfullscreenchange":"onmsfullscreenchange"in document&&(e="MSFullscreenChange"),e){var t=L.bind(this._onFullscreenChange,this);this.whenReady(function(){L.DomEvent.on(document,e,t)}),this.on("unload",function(){L.DomEvent.off(document,e,t)})}}),L.control.fullscreen=function(e){return new L.Control.Fullscreen(e)}},function(e,t){},function(e,t,i){"use strict";var o=i(0),n=i(16).class;e.exports={class:o.Control.extend({options:{showResultIcons:!1,collapsed:!0,expand:"touch",position:"topright",placeholder:"Search...",errorMessage:"Nothing found.",suggestMinLength:3,suggestTimeout:250,defaultMarkGeocode:!0},includes:o.Evented.prototype||o.Mixin.Events,initialize:function(e){o.Util.setOptions(this,e),this.options.geocoder||(this.options.geocoder=new n),this._requestCount=0},onAdd:function(e){var t,i="leaflet-control-geocoder",n=o.DomUtil.create("div",i+" leaflet-bar"),s=o.DomUtil.create("button",i+"-icon",n),l=this._form=o.DomUtil.create("div",i+"-form",n);return this._map=e,this._container=n,s.innerHTML="&nbsp;",s.type="button",(t=this._input=o.DomUtil.create("input","",l)).type="text",t.placeholder=this.options.placeholder,this._errorElement=o.DomUtil.create("div",i+"-form-no-error",n),this._errorElement.innerHTML=this.options.errorMessage,this._alts=o.DomUtil.create("ul",i+"-alternatives leaflet-control-geocoder-alternatives-minimized",n),o.DomEvent.disableClickPropagation(this._alts),o.DomEvent.addListener(t,"keydown",this._keydown,this),this.options.geocoder.suggest&&o.DomEvent.addListener(t,"input",this._change,this),o.DomEvent.addListener(t,"blur",function(){this.options.collapsed&&!this._preventBlurCollapse&&this._collapse(),this._preventBlurCollapse=!1},this),this.options.collapsed?"click"===this.options.expand?o.DomEvent.addListener(n,"click",function(e){0===e.button&&2!==e.detail&&this._toggle()},this):o.Browser.touch&&"touch"===this.options.expand?o.DomEvent.addListener(n,"touchstart mousedown",function(e){this._toggle(),e.preventDefault(),e.stopPropagation()},this):(o.DomEvent.addListener(n,"mouseover",this._expand,this),o.DomEvent.addListener(n,"mouseout",this._collapse,this),this._map.on("movestart",this._collapse,this)):(this._expand(),o.Browser.touch?o.DomEvent.addListener(n,"touchstart",function(e){this._geocode(e)},this):o.DomEvent.addListener(n,"click",function(e){this._geocode(e)},this)),this.options.defaultMarkGeocode&&this.on("markgeocode",this.markGeocode,this),this.on("startgeocode",function(){o.DomUtil.addClass(this._container,"leaflet-control-geocoder-throbber")},this),this.on("finishgeocode",function(){o.DomUtil.removeClass(this._container,"leaflet-control-geocoder-throbber")},this),o.DomEvent.disableClickPropagation(n),n},_geocodeResult:function(e,t){if(t||1!==e.length)if(e.length>0){this._alts.innerHTML="",this._results=e,o.DomUtil.removeClass(this._alts,"leaflet-control-geocoder-alternatives-minimized");for(var i=0;i<e.length;i++)this._alts.appendChild(this._createAlt(e[i],i))}else o.DomUtil.addClass(this._errorElement,"leaflet-control-geocoder-error");else this._geocodeResultSelected(e[0])},markGeocode:function(e){return e=e.geocode||e,this._map.fitBounds(e.bbox),this._geocodeMarker&&this._map.removeLayer(this._geocodeMarker),this._geocodeMarker=new o.Marker(e.center).bindPopup(e.html||e.name).addTo(this._map).openPopup(),this},_geocode:function(e){var t=++this._requestCount,i=e?"suggest":"geocode",o={input:this._input.value};this._lastGeocode=this._input.value,e||this._clearResults(),this.fire("start"+i,o),this.options.geocoder[i](this._input.value,function(n){t===this._requestCount&&(o.results=n,this.fire("finish"+i,o),this._geocodeResult(n,e))},this)},_geocodeResultSelected:function(e){this.fire("markgeocode",{geocode:e})},_toggle:function(){o.DomUtil.hasClass(this._container,"leaflet-control-geocoder-expanded")?this._collapse():this._expand()},_expand:function(){o.DomUtil.addClass(this._container,"leaflet-control-geocoder-expanded"),this._input.select(),this.fire("expand")},_collapse:function(){o.DomUtil.removeClass(this._container,"leaflet-control-geocoder-expanded"),o.DomUtil.addClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),o.DomUtil.removeClass(this._errorElement,"leaflet-control-geocoder-error"),this._input.blur(),this.fire("collapse")},_clearResults:function(){o.DomUtil.addClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),this._selection=null,o.DomUtil.removeClass(this._errorElement,"leaflet-control-geocoder-error")},_createAlt:function(e,t){var i=o.DomUtil.create("li",""),n=o.DomUtil.create("a","",i),s=this.options.showResultIcons&&e.icon?o.DomUtil.create("img","",n):null,l=e.html?void 0:document.createTextNode(e.name);return s&&(s.src=e.icon),i.setAttribute("data-result-index",t),e.html?n.innerHTML=n.innerHTML+e.html:n.appendChild(l),o.DomEvent.addListener(i,"mousedown touchstart",function(t){this._preventBlurCollapse=!0,o.DomEvent.stop(t),this._geocodeResultSelected(e),o.DomEvent.on(i,"click",function(){this.options.collapsed?this._collapse():this._clearResults()},this)},this),i},_keydown:function(e){var t=this,i=function(e){t._selection&&(o.DomUtil.removeClass(t._selection,"leaflet-control-geocoder-selected"),t._selection=t._selection[e>0?"nextSibling":"previousSibling"]),t._selection||(t._selection=t._alts[e>0?"firstChild":"lastChild"]),t._selection&&o.DomUtil.addClass(t._selection,"leaflet-control-geocoder-selected")};switch(e.keyCode){case 27:this.options.collapsed&&this._collapse();break;case 38:i(-1);break;case 40:i(1);break;case 13:if(this._selection){var n=parseInt(this._selection.getAttribute("data-result-index"),10);this._geocodeResultSelected(this._results[n]),this._clearResults()}else this._geocode()}},_change:function(e){var t=this._input.value;t!==this._lastGeocode&&(clearTimeout(this._suggestTimeout),t.length>=this.options.suggestMinLength?this._suggestTimeout=setTimeout(o.bind(function(){this._geocode(!0)},this),this.options.suggestTimeout):this._clearResults())}}),factory:function(e){return new o.Control.Geocoder(e)}}},function(e,t,i){"use strict";var o=i(0),n=i(17);e.exports={class:o.Class.extend({options:{serviceUrl:"https://nominatim.openstreetmap.org/",geocodingQueryParams:{},reverseQueryParams:{},htmlTemplate:function(e){var t=e.address,i=[];return(t.road||t.building)&&i.push("{building} {road} {house_number}"),(t.city||t.town||t.village||t.hamlet)&&i.push('<span class="'+(i.length>0?"leaflet-control-geocoder-address-detail":"")+'">{postcode} {city} {town} {village} {hamlet}</span>'),(t.state||t.country)&&i.push('<span class="'+(i.length>0?"leaflet-control-geocoder-address-context":"")+'">{state} {country}</span>'),n.template(i.join("<br/>"),t,!0)}},initialize:function(e){o.Util.setOptions(this,e)},geocode:function(e,t,i){n.jsonp(this.options.serviceUrl+"search",o.extend({q:e,limit:5,format:"json",addressdetails:1},this.options.geocodingQueryParams),function(e){for(var n=[],s=e.length-1;s>=0;s--){for(var l=e[s].boundingbox,r=0;r<4;r++)l[r]=parseFloat(l[r]);n[s]={icon:e[s].icon,name:e[s].display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(e[s]):void 0,bbox:o.latLngBounds([l[0],l[2]],[l[1],l[3]]),center:o.latLng(e[s].lat,e[s].lon),properties:e[s]}}t.call(i,n)},this,"json_callback")},reverse:function(e,t,i,s){n.jsonp(this.options.serviceUrl+"reverse",o.extend({lat:e.lat,lon:e.lng,zoom:Math.round(Math.log(t/256)/Math.log(2)),addressdetails:1,format:"json"},this.options.reverseQueryParams),function(e){var t,n=[];e&&e.lat&&e.lon&&(t=o.latLng(e.lat,e.lon),n.push({name:e.display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(e):void 0,center:t,bounds:o.latLngBounds(t,t),properties:e})),i.call(s,n)},this,"json_callback")}}),factory:function(e){return new o.Control.Geocoder.Nominatim(e)}}},function(e,t,i){"use strict";var o=i(0),n=0,s=function(){var e=/[&<>"'`]/g,t=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function o(e){return i[e]}return function(i){return null==i?"":i?(i=""+i,t.test(i)?i.replace(e,o):i):i+""}}();e.exports={jsonp:function(e,t,i,s,l){var r="_l_geocoder_"+n++;t[l||"callback"]=r,window[r]=o.Util.bind(i,s);var a=document.createElement("script");a.type="text/javascript",a.src=e+o.Util.getParamString(t),a.id=r,document.getElementsByTagName("head")[0].appendChild(a)},getJSON:function(e,t,i){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(200===n.status||304===n.status?i(JSON.parse(n.response)):i(""))},n.open("GET",e+o.Util.getParamString(t),!0),n.setRequestHeader("Accept","application/json"),n.send(null)},template:function(e,t){return e.replace(/\{ *([\w_]+) *\}/g,function(e,i){var o=t[i];return void 0===o?o="":"function"==typeof o&&(o=o(t)),s(o)})},htmlEscape:s}},function(e,t){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=i(0),s=(o=n)&&o.__esModule?o:{default:o};var l=window.gettext||function(e){return e},r=s.default.Control.extend({options:{position:"bottomleft"},onAdd:function(){var e=s.default.DomUtil.create("div","scroll-intent-message leaflet-control");return e.innerHTML=l("click map for interaction"),e.style.fontSize="20px",e.style.backgroundColor="white",e.style.border="2px solid gray",e.style.borderRadius="4px",e.style.padding="4px 10px",e.style.display="none",e},hide:function(){this._container.style.display="none"},show:function(){var e=this._map.getSize();this._container.style.left=(e.x-280)/2+"px",this._container.style.bottom="20px",this._container.style.display="block"}});function a(){this.scrollWheelZoom.disable(),this.touchZoom.disable()}function c(e){s.default.DomEvent.preventDefault(e),this.scrollWheelZoom.enable(),this.touchZoom.enable(),this._scrollIntentMessage.hide()}function u(e){var t=(new r).addTo(e);a.call(e),e.on("mouseover",function(){e.scrollWheelZoom.enabled()||t.show()},e),e.on("mouseout",function(){setTimeout(function(){t.hide()},1e3)}),e.on("click touch focus dragstart",c,e),e.on("blur",a,e),e._scrollIntentMessage=t}s.default.Map.include({preventAccidentalScroll:function(){u(this)}}),t.default=u},function(e,t,i){"use strict";var o,n,s;"function"==typeof Symbol&&Symbol.iterator;!function(l,r){n=[i(0)],void 0===(s="function"==typeof(o=l)?o.apply(t,n):o)||(e.exports=s),void 0!==r&&r.L&&(r.L.Control.MiniMap=l(L),r.L.control.minimap=function(e,t){return new r.L.Control.MiniMap(e,t)})}(function(e){var t=e.Control.extend({includes:e.Evented?e.Evented.prototype:e.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(t,i){e.Util.setOptions(this,i),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=t},onAdd:function(t){this._mainMap=t,this._container=e.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",e.DomEvent.disableClickPropagation(this._container),e.DomEvent.on(this._container,"mousewheel",e.DomEvent.stopPropagation);var i={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:t.options.crs};return i=e.Util.extend(this.options.mapOptions,i),this._miniMap=new e.Map(this._container,i),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(e.Util.bind(function(){this._aimingRect=e.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=e.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)},this)),this._container},addTo:function(t){e.Control.prototype.addTo.call(this,t);var i=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(i,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(e){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(e){this._miniMap.removeLayer(this._layer),this._layer=e,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(t,i,o,n,s,l){var r=e.DomUtil.create("a",o,n);r.innerHTML=t,r.href="#",r.title=i;var a=e.DomEvent.stopPropagation;return e.DomEvent.on(r,"click",a).on(r,"mousedown",a).on(r,"dblclick",a).on(r,"click",e.DomEvent.preventDefault).on(r,"click",s,l),r},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(e){e!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(e){if(this._miniMapMoving)this._miniMapMoving=!1;else{var t=this.options.centerFixed||this._mainMap.getCenter();this._mainMapMoving=!0,this._miniMap.setView(t,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())}this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(e){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(e){if(!this.options.centerFixed){var t=this._aimingRect.getBounds(),i=this._miniMap.latLngToContainerPoint(t.getSouthWest()),o=this._miniMap.latLngToContainerPoint(t.getNorthEast());this._lastAimingRectPosition={sw:i,ne:o}}},_onMiniMapMoving:function(t){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new e.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(e){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var e=this.options.zoomLevelFixed;return this._isDefined(e)&&this._isInteger(e)},_decideZoom:function(e){if(this._isZoomLevelFixed())return e?this.options.zoomLevelFixed:this._mainMap.getZoom();if(e)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var t,i=this._miniMap.getZoom()-this._mainMap.getZoom(),o=this._miniMap.getZoom()-this.options.zoomLevelOffset;return i>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(t=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):t=this._mainMap.getZoom():t=o,this._lastMiniMapZoom=this._miniMap.getZoom(),t},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(e){return"number"==typeof e},_isDefined:function(e){return void 0!==e},_onToggle:function(){e.Util.requestAnimFrame(function(){e.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),e.Browser.any3d||e.Util.requestAnimFrame(this._fireToggleEvents,this)},this)},_fireToggleEvents:function(){e.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var t={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",t),this.fire("toggle",t)}});return e.Map.mergeOptions({miniMapControl:!1}),e.Map.addInitHook(function(){this.options.miniMapControl&&(this.miniMapControl=(new t).addTo(this))}),t},window)},function(e,t){},function(e,t,i){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=a(i(23)),s=i(2),l=i(24),r=a(i(25));function a(e){return e&&e.__esModule?e:{default:e}}var c=L.FeatureGroup.extend({options:{filter:function(){return!0},style:r.default.style,popupOptions:{closeButton:!1},pointToLayer:function(e,t){var i,o=e.properties;if("circle-marker"in o)return(i=r.default.style(e)).radius=o["circle-marker"],L.circleMarker(t,i);var n=L.marker(t);return"number-marker"in o?(n.setIcon((0,s.numberIcon)(o["number-marker"])),n):"radius"in o?((i=r.default.style(e)).radius=o.radius,L.circle(t,i)):(("marker-size"in o||"marker-symbol"in o||"marker-color"in o)&&n.setIcon&&n.setIcon((0,l.maki)({size:(o["marker-size"]||"large").charAt(0),icon:"marker-symbol"in o&&""!==o["marker-symbol"]?o["marker-symbol"]:"",color:(o["marker-color"]||"7e7e7e").replace("#","")})),n)}},initialize:function(e,t){L.setOptions(this,t),this._layers={},"string"==typeof e?this.loadURL(e):e&&"object"===(void 0===e?"undefined":o(e))&&this.setGeoJSON(e)},setGeoJSON:function(e){return this._geojson=e,this.clearLayers(),this._initialize(e),this},getGeoJSON:function(){return this._geojson},loadURL:function(e){return this._request&&"abort"in this._request&&this._request.abort(),this._request=function(e,t){return(0,n.default)(e,function(e,i){!e&&i&&(i=JSON.parse(i.responseText)),t(e,i)})}(e,L.bind(function(t,i){this._request=null,t&&"abort"!==t.type?(console.error("Could not load features at "+e),this.fire("error",{error:t})):i&&(this.setGeoJSON(i),this.fire("ready"))},this)),this},setFilter:function(e){return this.options.filter=e,this._geojson&&(this.clearLayers(),this._initialize(this._geojson)),this},getFilter:function(){return this.options.filter},_initialize:function(e){var t,i,o=L.Util.isArray(e)?e:e.features;if(o)for(t=0,i=o.length;t<i;t++)(o[t].geometries||o[t].geometry||o[t].features)&&this._initialize(o[t]);else if(this.options.filter(e)){var n=L.GeoJSON.geometryToLayer(e,{pointToLayer:this.options.pointToLayer}),s=this.options.style;s&&"setStyle"in n&&("function"==typeof s&&(s=s(e)),n.setStyle(s)),n.feature=e;var l=function(e){if(!("no-popup"in e))return"popup-content"in e?e["popup-content"]:"description"in e?e.description:void 0}(e.properties);l&&n.bindPopup(l,this.options.popupOptions),"title"in e.properties&&e.properties.title&&n.bindTooltip(e.properties.title),this.addLayer(n)}}});e.exports.FeatureLayer=c,e.exports.featureLayer=function(e,t){return new c(e,t)}},function(e,t,i){"use strict";e.exports=function(e,t,i){var o=!1;if(void 0===window.XMLHttpRequest)return t(Error("Browser not supported"));if(void 0===i){var n=e.match(/^\s*https?:\/\/[^\/]*/);i=n&&n[0]!==location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}var s=new window.XMLHttpRequest;if(i&&!("withCredentials"in s)){s=new window.XDomainRequest;var l=t;t=function(){if(o)l.apply(this,arguments);else{var e=this,t=arguments;setTimeout(function(){l.apply(e,t)},0)}}}function r(){var e;void 0===s.status||(e=s.status)>=200&&e<300||304===e?t.call(s,null,s):t.call(s,s,null)}return"onload"in s?s.onload=r:s.onreadystatechange=function(){4===s.readyState&&r()},s.onerror=function(e){t.call(this,e||!0,null),t=function(){}},s.onprogress=function(){},s.ontimeout=function(e){t.call(this,e,null),t=function(){}},s.onabort=function(e){t.call(this,e,null),t=function(){}},s.open("GET",e,!0),s.send(null),o=!0,s}},function(e,t,i){"use strict";function o(e){return new L.MakiMarkers.Icon(e)}Object.defineProperty(t,"__esModule",{value:!0}),L.MakiMarkers={apiUrl:"/",defaultColor:"#0a0",defaultIcon:"circle-stroked",defaultSize:"s",smallOptions:{iconSize:[23,35],popupAnchor:[0,-20]},largeOptions:{iconSize:[27,41],popupAnchor:[0,-35]}},L.MakiMarkers.Icon=L.Icon.extend({options:{icon:L.MakiMarkers.defaultIcon,color:L.MakiMarkers.defaultColor,size:L.MakiMarkers.defaultSize,shadowAnchor:null,shadowSize:null,shadowUrl:null,className:"maki-marker"},initialize:function(e){e=L.setOptions(this,e);var t={s:L.MakiMarkers.smallOptions,l:L.MakiMarkers.largeOptions};e.size in t||(e.size="s"),L.extend(e,t[e.size]);var i="pin-"+e.size;null!==e.icon&&(i+="-"+e.icon),null!==e.color&&("#"===e.color.charAt(0)&&(e.color=e.color.substr(1)),i+="+"+e.color),e.iconUrl="/maki"+L.MakiMarkers.apiUrl+i+".png"}}),L.MakiMarkers.icon=o,t.maki=o},function(e,t,i){"use strict";var o={stroke:"#555555","stroke-width":2,"stroke-opacity":1,fill:"#555555","fill-opacity":.5,"stroke-style":null},n=[["stroke","color"],["stroke-width","weight"],["stroke-opacity","opacity"],["fill","fillColor"],["fill-opacity","fillOpacity"],["stroke-style","dashArray"]];e.exports={style:function(e){return function(e){for(var t={},i=0;i<n.length;i++)t[n[i][1]]=e[n[i][0]];return t}(function(e,t){var i={};for(var o in t)i[o]=void 0===e[o]?t[o]:e[o];return i}(e.properties||{},o))},defaults:o}},function(e,t,i){"use strict";L.Control.Legend=L.Control.extend({options:{position:"bottomright",collapsed:!0,buttonHtml:"legend"},onRemove:function(){this._map.off("click",this.collapse,this),this._container=null},onAdd:function(e){return this._map=e,this._initLayout()},_initLayout:function(){var e="leaflet-legend",t=this._container=L.DomUtil.create("div",e),i=this.options.collapsed;t.setAttribute("aria-haspopup",!0),L.DomEvent.disableClickPropagation(t),L.DomEvent.disableScrollPropagation(t),i&&(this._map.on("click",this.collapse,this),L.Browser.android||L.DomEvent.on(t,{mouseover:this.expand,mouseout:this.collapse},this));var o=L.DomUtil.create("a",e+"-toggle",t);o.href="#",o.title="legend",o.innerHTML=this.options.buttonHtml,L.Browser.touch?(L.DomEvent.on(o,"click",L.DomEvent.stop),L.DomEvent.on(o,"click",this.expand,this)):L.DomEvent.on(o,"focus",this.expand,this),i||this.expand();var n=L.DomUtil.create("div",e+"-list");return this.options.items.forEach(function(t){var i=L.DomUtil.create("div",e+"-item",n),o=L.DomUtil.create("div",e+"-color",i);o.innerHTML="&nbsp;",o.style.backgroundColor=t.color,L.DomUtil.create("div",e+"-text",i).innerHTML=t.label}),t.appendChild(n),t},expand:function(){return L.DomUtil.addClass(this._container,"leaflet-legend-expanded"),this},collapse:function(){return L.DomUtil.removeClass(this._container,"leaflet-legend-expanded"),this}}),L.control.legend=function(e){return new L.Control.Legend(e)}},function(e,t){}]);