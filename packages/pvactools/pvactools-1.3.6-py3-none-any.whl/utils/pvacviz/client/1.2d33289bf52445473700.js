(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{xMQT:function(l,n,u){"use strict";u.r(n);var t=u("LoAr"),e=function(){},a=u("15Kt"),s=u("C9Ky"),i=u("Ey0D"),o=u("+6L5"),r=u("WT9V"),c=u("GovN"),p=u("adEB"),b=u("6s9y"),d=u("4Da4"),f=Object.assign||function(l){for(var n,u=1,t=arguments.length;u<t;u++)for(var e in n=arguments[u])Object.prototype.hasOwnProperty.call(n,e)&&(l[e]=n[e]);return l},h=function(){function l(l){var n=this;this.store=l,this.processItems=[],this.subscriptions=[],this.req={page:1,count:1e3},this.processes$=l.pipe(Object(c.E)(d.b)),this.processesWithVisualizableFiles$=l.pipe(Object(c.E)(d.g)),this.dropboxFiles$=l.pipe(Object(c.E)(d.a)),this.subscriptions.push(this.dropboxFiles$.subscribe(function(l){n.filesItem={display_name:"~/pVAC-Seq/visualize",type:"directory",contents:l}})),this.subscriptions.push(this.processesWithVisualizableFiles$.subscribe(function(l){n.processItems=l.map(function(l){return{display_name:l.parameters.samplename,type:"process",id:l.id,contents:l.files.map(function(l){return f({},l,{type:"file"})})}})}))}return l.prototype.ngOnInit=function(){this.store.dispatch(new b.j(this.req)),this.store.dispatch(new p.b)},l.prototype.ngOnDestroy=function(){this.subscriptions.map(function(l){return l.unsubscribe()})},l.prototype.onProcessReload=function(){this.store.dispatch(new b.j(this.req))},l.prototype.onVizReload=function(){this.store.dispatch(new p.b)},l}(),g=t.Ma({encapsulation:0,styles:[[".card-block.files[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{margin:-.5rem -.75rem -.25rem}.card-block.files[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .file-table[_ngcontent-%COMP%]{margin-bottom:0;margin-top:0}.card-block.files[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .file-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#efefef}.card-block.files[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .file-table[_ngcontent-%COMP%]   tr.directory[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:1px solid #ddd;padding:20px 12px;text-align:left;font-size:.75rem;font-weight:200;letter-spacing:normal}.card-block.files[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .file-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .card-block.files[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .file-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:.75rem}.card-block.files[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .file-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, .card-block.files[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .file-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding-right:.75rem}"]],data:{}});function O(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.gb(-1,null,[" No processes found with visualizable results. "]))],null,null)}function v(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Oa(1,0,null,null,1,"recursive-treeview",[],null,null,null,i.b,i.a)),t.Na(2,49152,null,0,o.a,[],{item:[0,"item"],processId:[1,"processId"]},null)],function(l,n){l(n,2,0,n.context.$implicit,n.context.$implicit.id)},null)}function m(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Fa(16777216,null,null,1,null,v)),t.Na(2,278528,null,0,r.l,[t.N,t.K,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Fa(0,null,null,0))],function(l,n){l(n,2,0,n.component.processItems)},null)}function W(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.gb(-1,null,[" No visualizable files found in ~/pVACseq/visualize/ "]))],null,null)}function M(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Oa(1,0,null,null,1,"recursive-treeview",[],null,null,null,i.b,i.a)),t.Na(2,49152,null,0,o.a,[],{item:[0,"item"],processId:[1,"processId"]},null)],function(l,n){l(n,2,0,n.component.filesItem,"-1")},null)}function P(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,5,"div",[["class","page-header"]],null,null,null,null,null)),(l()(),t.Oa(1,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Oa(2,0,null,null,3,"div",[["class","col-xs-6"]],null,null,null,null,null)),(l()(),t.Oa(3,0,null,null,2,"h3",[["class","page-title"]],null,null,null,null,null)),(l()(),t.Oa(4,0,null,null,1,"span",[["class","page-type"]],null,null,null,null,null)),(l()(),t.gb(-1,null,["Visualizable Files"])),(l()(),t.Oa(6,0,null,null,33,"div",[["class","page-content"]],null,null,null,null,null)),(l()(),t.Oa(7,0,null,null,32,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Oa(8,0,null,null,14,"div",[["class","col-xs-6"]],null,null,null,null,null)),(l()(),t.Oa(9,0,null,null,13,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.Oa(10,0,null,null,6,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Oa(11,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Oa(12,0,null,null,1,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),t.gb(-1,null,[" Process Results "])),(l()(),t.Oa(14,0,null,null,2,"div",[["class","col-xs-4 card-header-buttons"]],null,null,null,null,null)),(l()(),t.Oa(15,0,null,null,1,"button",[["class","btn btn-sm"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onProcessReload()&&t),t},null,null)),(l()(),t.gb(-1,null,[" Reload "])),(l()(),t.Oa(17,0,null,null,5,"div",[["class","card-block"]],null,null,null,null,null)),(l()(),t.Oa(18,0,null,null,4,"div",[["class","card-text"]],null,null,null,null,null)),(l()(),t.Fa(16777216,null,null,1,null,O)),t.Na(20,16384,null,0,r.m,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.Fa(16777216,null,null,1,null,m)),t.Na(22,16384,null,0,r.m,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.Oa(23,0,null,null,16,"div",[["class","col-xs-6"]],null,null,null,null,null)),(l()(),t.Oa(24,0,null,null,15,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.Oa(25,0,null,null,6,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Oa(26,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Oa(27,0,null,null,1,"div",[["class","col-xs-8"]],null,null,null,null,null)),(l()(),t.gb(-1,null,[" Visualize Folder "])),(l()(),t.Oa(29,0,null,null,2,"div",[["class","col-xs-4 card-header-buttons"]],null,null,null,null,null)),(l()(),t.Oa(30,0,null,null,1,"button",[["class","btn btn-sm"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onVizReload()&&t),t},null,null)),(l()(),t.gb(-1,null,[" Reload "])),(l()(),t.Oa(32,0,null,null,7,"div",[["class","card-block"]],null,null,null,null,null)),(l()(),t.Oa(33,0,null,null,6,"div",[["class","card-text"]],null,null,null,null,null)),(l()(),t.Fa(16777216,null,null,2,null,W)),t.Na(35,16384,null,0,r.m,[t.N,t.K],{ngIf:[0,"ngIf"]},null),t.ab(131072,r.b,[t.h]),(l()(),t.Fa(16777216,null,null,2,null,M)),t.Na(38,16384,null,0,r.m,[t.N,t.K],{ngIf:[0,"ngIf"]},null),t.ab(131072,r.b,[t.h])],function(l,n){var u,e,a=n.component;l(n,20,0,a.processItems.length<1),l(n,22,0,a.processItems.length>0),l(n,35,0,(null==(u=t.hb(n,35,0,t.Ya(n,36).transform(a.dropboxFiles$)))?null:u.length)<1),l(n,38,0,(null==(e=t.hb(n,38,0,t.Ya(n,39).transform(a.dropboxFiles$)))?null:e.length)>0)},null)}var C=t.Ka("pvz-visualize-page",h,function(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,1,"pvz-visualize-page",[],null,null,null,P,g)),t.Na(1,245760,null,0,h,[c.n],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),_=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),y=t.Ma({encapsulation:0,styles:[[""]],data:{}});function I(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,2,"iframe",[["frameBorder","0"],["height","2000"],["width","100%"]],[[8,"src",5]],null,null,null,null)),(l()(),t.Oa(1,0,null,null,1,"span",[["class","spinner"]],null,null,null,null,null)),(l()(),t.gb(-1,null,[" Loading... "]))],null,function(l,n){l(n,0,0,n.component.visualizeUrl)})}var k=u("rPGB"),x=(u("TErw"),u("eb+u")),z=u("AouM"),w=u("G2Mx"),$=u("AytR"),N=function(){function l(l,n){var u=this;this.store=l,this.sanitizer=n,this.subscriptions=[],this.server={protocol:"http://",domain:"localhost",port:$.a.production?8080:4200,api:"api",version:"v1"},this.bokehServer={protocol:"http://",domain:"localhost",port:8080,api:"api",version:"v1"},this.processId$=l.pipe(Object(c.E)(d.i)),this.fileId$=l.pipe(Object(c.E)(d.h)),this.visualizeUrl$=this.processId$.pipe(Object(x.a)(this.fileId$),Object(z.a)(function(l){var t=l[0],e=l[1];console.log("processId: "+t+"; fileId: "+e);var a=u.bokehUrl()+"/processes/"+t+"/results/"+e+"/visualize";return k.a.of(n.bypassSecurityTrustResourceUrl(a))})),this.file$=l.pipe(Object(c.E)(d.j)),this.process$=l.pipe(Object(c.E)(d.k))}return l.prototype.ngOnInit=function(){var l=this;this.file$.subscribe(function(l){console.log(l)}),this.processId$.pipe(Object(w.a)(1)).subscribe(function(n){l.store.dispatch(n>0?new b.k:new p.b)})},l.prototype.ngOnDestroy=function(){this.subscriptions.map(function(l){return l.unsubscribe()})},l.prototype.serverUrl=function(){return this.server.protocol+this.server.domain+":"+this.server.port},l.prototype.japiUrl=function(){return this.server.protocol+this.server.domain+":"+this.server.port+"/"+this.server.api+"/"+this.server.version},l.prototype.bokehUrl=function(){return this.bokehServer.protocol+this.bokehServer.domain+":"+this.bokehServer.port+"/"+this.bokehServer.api+"/"+this.bokehServer.version},l}(),j=u("SeAg"),F=t.Ma({encapsulation:0,styles:[[".page-subtitle[_ngcontent-%COMP%]   .file-description[_ngcontent-%COMP%]{font-style:oblique}"]],data:{}});function S(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,12,null,null,null,null,null,null,null)),(l()(),t.Oa(1,0,null,null,2,"span",[["class","page-type"]],null,null,null,null,null)),(l()(),t.gb(2,null,["",""])),t.ab(131072,r.b,[t.h]),(l()(),t.Oa(4,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Oa(5,0,null,null,7,"span",[["class","page-subtitle"]],null,null,null,null,null)),(l()(),t.Oa(6,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),t.gb(7,null,["",""])),t.ab(131072,r.b,[t.h]),(l()(),t.gb(-1,null,["\xa0 "])),(l()(),t.Oa(10,0,null,null,2,"span",[["class","file-description"]],null,null,null,null,null)),(l()(),t.gb(11,null,["(",")"])),t.ab(131072,r.b,[t.h])],null,function(l,n){var u,e,a,s=n.component;l(n,2,0,null==(u=t.hb(n,2,0,t.Ya(n,3).transform(s.process$)))?null:u.parameters.samplename),l(n,7,0,null==(e=t.hb(n,7,0,t.Ya(n,8).transform(s.file$)))?null:e.display_name),l(n,11,0,null==(a=t.hb(n,11,0,t.Ya(n,12).transform(s.file$)))?null:a.description)})}function K(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,9,null,null,null,null,null,null,null)),(l()(),t.Oa(1,0,null,null,2,"span",[["class","page-type"]],null,null,null,null,null)),(l()(),t.gb(2,null,["",""])),t.ab(131072,r.b,[t.h]),(l()(),t.Oa(4,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Oa(5,0,null,null,4,"span",[["class","page-subtitle"]],null,null,null,null,null)),(l()(),t.Oa(6,0,null,null,2,"span",[["class","filename"]],null,null,null,null,null)),(l()(),t.gb(7,null,["",""])),t.ab(131072,r.b,[t.h]),(l()(),t.gb(-1,null,["\xa0 "]))],null,function(l,n){var u,e,a=n.component;l(n,2,0,null==(u=t.hb(n,2,0,t.Ya(n,3).transform(a.file$)))?null:u.display_name),l(n,7,0,null==(e=t.hb(n,7,0,t.Ya(n,8).transform(a.file$)))?null:e.description)})}function q(l){return t.ib(2,[(l()(),t.Oa(0,0,null,null,11,"div",[["class","page-header"]],null,null,null,null,null)),(l()(),t.Oa(1,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Oa(2,0,null,null,8,"div",[["class","col-xs-12"]],null,null,null,null,null)),(l()(),t.Oa(3,0,null,null,7,"h3",[["class","page-title"]],null,null,null,null,null)),(l()(),t.Oa(4,0,null,null,6,null,null,null,null,null,null,null)),t.Na(5,16384,null,0,r.p,[],{ngSwitch:[0,"ngSwitch"]},null),t.ab(131072,r.b,[t.h]),(l()(),t.Fa(16777216,null,null,1,null,S)),t.Na(8,278528,null,0,r.q,[t.N,t.K,r.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.Fa(16777216,null,null,1,null,K)),t.Na(10,278528,null,0,r.q,[t.N,t.K,r.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.Oa(11,0,null,null,0,"div",[["class","col-xs-4 text-right page-buttons"]],null,null,null,null,null)),(l()(),t.Oa(12,0,null,null,2,"pvz-bokeh-visualization",[],null,null,null,I,y)),t.Na(13,114688,null,0,_,[],{visualizeUrl:[0,"visualizeUrl"]},null),t.ab(131072,r.b,[t.h])],function(l,n){var u=n.component;l(n,5,0,t.hb(n,5,0,t.Ya(n,6).transform(u.processId$))>0),l(n,8,0,!0),l(n,10,0,!1),l(n,13,0,t.hb(n,13,0,t.Ya(n,14).transform(u.visualizeUrl$)))},null)}var U=t.Ka("pvz-visualize-file",N,function(l){return t.ib(0,[(l()(),t.Oa(0,0,null,null,1,"pvz-visualize-file",[],null,null,null,q,F)),t.Na(1,245760,null,0,N,[c.n,j.c],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),V=u("qpVk"),D=u("IfiR"),E=u("981U"),R=function(){},A=u("QV/k"),Y=u("6DH+");u.d(n,"VisualizeModuleNgFactory",function(){return L});var L=t.La(e,[],function(l){return t.Va([t.Wa(512,t.j,t.Aa,[[8,[a.P,a.b,a.O,s.a,C,U]],[3,t.j],t.v]),t.Wa(4608,r.o,r.n,[t.s,[2,r.D]]),t.Wa(4608,V.Lb,V.Lb,[]),t.Wa(4608,D.k,D.k,[]),t.Wa(5120,V.Ic,V.Jc,[[3,V.Ic]]),t.Wa(1073742336,r.c,r.c,[]),t.Wa(1073742336,V.W,V.W,[]),t.Wa(1073742336,V.Mb,V.Mb,[]),t.Wa(1073742336,V.id,V.id,[]),t.Wa(1073742336,V.P,V.P,[]),t.Wa(1073742336,V.d,V.d,[]),t.Wa(1073742336,V.Q,V.Q,[]),t.Wa(1073742336,V.n,V.n,[]),t.Wa(1073742336,V.od,V.od,[]),t.Wa(1073742336,V.qd,V.qd,[]),t.Wa(1073742336,V.J,V.J,[]),t.Wa(1073742336,V.S,V.S,[]),t.Wa(1073742336,D.j,D.j,[]),t.Wa(1073742336,D.c,D.c,[]),t.Wa(1073742336,V.Ga,V.Ga,[]),t.Wa(1073742336,V.Qb,V.Qb,[]),t.Wa(1073742336,V.Ac,V.Ac,[]),t.Wa(1073742336,V.D,V.D,[]),t.Wa(1073742336,V.bb,V.bb,[]),t.Wa(1073742336,V.pb,V.pb,[]),t.Wa(1073742336,V.u,V.u,[]),t.Wa(1073742336,V.Ka,V.Ka,[]),t.Wa(1073742336,V.Fa,V.Fa,[]),t.Wa(1073742336,V.i,V.i,[]),t.Wa(1073742336,V.j,V.j,[]),t.Wa(1073742336,V.cb,V.cb,[]),t.Wa(1073742336,V.q,V.q,[]),t.Wa(1073742336,V.Ia,V.Ia,[]),t.Wa(1073742336,V.Ma,V.Ma,[]),t.Wa(1073742336,V.Kc,V.Kc,[]),t.Wa(1073742336,V.ib,V.ib,[]),t.Wa(1073742336,V.vb,V.vb,[]),t.Wa(1073742336,V.Da,V.Da,[]),t.Wa(1073742336,V.Ua,V.Ua,[]),t.Wa(1073742336,V.nb,V.nb,[]),t.Wa(1073742336,V.Pa,V.Pa,[]),t.Wa(1073742336,V.zb,V.zb,[]),t.Wa(1073742336,V.a,V.a,[]),t.Wa(1073742336,E.r,E.r,[[2,E.y],[2,E.n]]),t.Wa(1073742336,R,R,[]),t.Wa(1073742336,A.a,A.a,[]),t.Wa(1073742336,Y.a,Y.a,[]),t.Wa(1073742336,e,e,[]),t.Wa(1024,E.l,function(){return[[{path:"",component:h},{path:"process/:processId/results/:fileId",component:N}]]},[])])})}}]);