(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1295:function(e,t){},1296:function(e,t,a){},1312:function(e,t,a){"use strict";a.r(t);var n=a(60),r=a(19),i=a(25),s=a(33),o=a(31),u=a(32),d=a(1),h=a.n(d),c=a(1063),g=a(47),w=a(1288),l=a.n(w),f=a(1301),v=(a(1296),{DATAFRAME_INDEX:"(index)"}),p=new Set(["datetimeIndex","float_64Index","int_64Index","rangeIndex","timedeltaIndex","uint_64Index"]),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).vegaView=null,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){try{var e=this.props.element,t=JSON.parse(e.get("spec"));!function(e){if(e.autosize)return;e.autosize={type:"fit",contains:"padding",resize:!0}}(t);var a=function(e){var t=e.get("data");if(!t)return null;return{values:m(t)}}(e),n=function(e,t){if(!e.get("datasets")||e.get("datasets").isEmpty())return null;var a={};return e.get("datasets").forEach(function(e,t){e&&(a[e.get("name")]=m(e.get("data")))}),a}(e);if(n){if(!t.data)throw new Error('Must specify "data" field when using "dataset"');t.datasets=n}var r=null==t.height?200:t.height,i=null==t.width?this.props.width:t.width;return h.a.createElement(l.a,{spec:t,data:a,renderer:"canvas",width:i,height:r,onNewView:this._onNewView.bind(this)})}catch(s){return h.a.createElement(c.a,{color:"danger"},h.a.createElement("strong",null,s.name),": ",s.message)}}},{key:"shouldComponentUpdate",value:function(e,t){var a=this.props.element.get("data"),r=e.element.get("data");if(!a||!r)return!0;if(!a.get("data")||!r.get("data"))return!0;var i=Object(g.j)(a.get("data")),s=Object(n.a)(i,2),o=s[0],u=s[1],d=Object(g.j)(r.get("data")),h=Object(n.a)(d,2),c=h[0],w=h[1],l=a!==r,f=this.props.element.get("spec")!==e.element.get("spec"),v=this.props.width!==e.width;return!(!f&&!v)||!!l&&(!(u===w&&o<=c&&a[0]===r[0]&&a[o-1]===r[o-1]&&o<c)||(this.addRows(r,o),!1))}},{key:"addRows",value:function(e,t){if(!this.vegaView)throw new Error("Chart has not been drawn yet");var a=m(e,t);this.vegaView.insert("data_0",a),this.vegaView.run()}},{key:"toCanvas",value:function(e){if(!this.vegaView)throw new Error("Chart has not been drawn yet");return this.vegaView.toCanvas(e)}},{key:"toSVG",value:function(e){if(!this.vegaView)throw new Error("Chart has not been drawn yet");return this.vegaView.toSVG(e)}},{key:"toImageUrl",value:function(e,t){if(!this.vegaView)throw new Error("Chart has not been drawn yet");return this.vegaView.toImageUrl(e,t)}},{key:"_onNewView",value:function(e){this.vegaView=e,Object(f.a)(e)}}]),t}(d.Component);function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e.get("data"))return[];if(!e.get("index"))return[];if(!e.get("columns"))return[];for(var a=[],r=Object(g.j)(e.get("data")),i=Object(n.a)(r,2),s=i[0],o=i[1],u=e.get("index").get("type"),d=p.has(u),h=t;h<s;h++){var c={};d&&(c[v.DATAFRAME_INDEX]=Object(g.g)(e.get("index"),0,h));for(var w=0;w<o;w++)c[Object(g.g)(e.get("columns"),0,w)]=Object(g.i)(e.get("data"),w,h);a.push(c)}return a}t.default=b}}]);
//# sourceMappingURL=7.1fc309c7.chunk.js.map