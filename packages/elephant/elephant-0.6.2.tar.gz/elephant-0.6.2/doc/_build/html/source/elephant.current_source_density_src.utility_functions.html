
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>elephant.current_source_density_src.utility_functions module &#8212; Elephant 0.5.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/my-styles.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.5.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/elephant_favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/elephant_logo_sidebar.png"></span>
          Elephant</a>
        <span class="navbar-text navbar-version pull-left"><b>0.5</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Pages <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Prerequisites / Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">Function Reference by Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide.html">Developers&#8217; guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc_style_guidelines.html">Documentation and style guideline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Authors and contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">This Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">elephant.current_source_density_src.utility_functions module</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="module-elephant.current_source_density_src.utility_functions">
<span id="elephant-current-source-density-src-utility-functions-module"></span><h1>elephant.current_source_density_src.utility_functions module<a class="headerlink" href="#module-elephant.current_source_density_src.utility_functions" title="Permalink to this headline">¶</a></h1>
<p>These are some useful functions used in CSD methods,
They include CSD source profiles to be used as ground truths,
placement of electrodes in 1D, 2D and 3D., etc
These scripts are based on Grzegorz Parka&#8217;s,
Google Summer of Code 2014, INFC/pykCSD
This was written by :
Michal Czerwinski, Chaitanya Chintaluri
Laboratory of Neuroinformatics,
Nencki Institute of Experimental Biology, Warsaw.</p>
<dl class="function">
<dt id="elephant.current_source_density_src.utility_functions.check_for_duplicated_electrodes">
<code class="descclassname">elephant.current_source_density_src.utility_functions.</code><code class="descname">check_for_duplicated_electrodes</code><span class="sig-paren">(</span><em>elec_pos</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elephant/current_source_density_src/utility_functions.html#check_for_duplicated_electrodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#elephant.current_source_density_src.utility_functions.check_for_duplicated_electrodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks for duplicate electrodes
Parameters
&#8212;&#8212;&#8212;-
elec_pos : np.array
Returns
&#8212;&#8212;-
has_duplicated_elec : Boolean</p>
</dd></dl>

<dl class="function">
<dt id="elephant.current_source_density_src.utility_functions.distribute_srcs_1D">
<code class="descclassname">elephant.current_source_density_src.utility_functions.</code><code class="descname">distribute_srcs_1D</code><span class="sig-paren">(</span><em>X</em>, <em>n_src</em>, <em>ext_x</em>, <em>R_init</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elephant/current_source_density_src/utility_functions.html#distribute_srcs_1D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#elephant.current_source_density_src.utility_functions.distribute_srcs_1D" title="Permalink to this definition">¶</a></dt>
<dd><p>Distribute sources in 1D equally spaced
Parameters
&#8212;&#8212;&#8212;-
X : np.arrays</p>
<blockquote>
<div>points at which CSD will be estimated</div></blockquote>
<dl class="docutils">
<dt>n_src <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>number of sources to be included in the model</dd>
<dt>ext_x <span class="classifier-delimiter">:</span> <span class="classifier">floats</span></dt>
<dd>how much should the sources extend the area X</dd>
<dt>R_init <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Same as R in 1D case</dd>
</dl>
<dl class="docutils">
<dt>X_src <span class="classifier-delimiter">:</span> <span class="classifier">np.arrays</span></dt>
<dd>positions of the sources</dd>
<dt>R <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>effective radius of the basis element</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="elephant.current_source_density_src.utility_functions.distribute_srcs_2D">
<code class="descclassname">elephant.current_source_density_src.utility_functions.</code><code class="descname">distribute_srcs_2D</code><span class="sig-paren">(</span><em>X</em>, <em>Y</em>, <em>n_src</em>, <em>ext_x</em>, <em>ext_y</em>, <em>R_init</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elephant/current_source_density_src/utility_functions.html#distribute_srcs_2D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#elephant.current_source_density_src.utility_functions.distribute_srcs_2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Distribute n_src&#8217;s in the given area evenly
Parameters
&#8212;&#8212;&#8212;-
X, Y : np.arrays</p>
<blockquote>
<div>points at which CSD will be estimated</div></blockquote>
<dl class="docutils">
<dt>n_src <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>demanded number of sources to be included in the model</dd>
<dt>ext_x, ext_y <span class="classifier-delimiter">:</span> <span class="classifier">floats</span></dt>
<dd>how should the sources extend the area X, Y</dd>
<dt>R_init <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>demanded radius of the basis element</dd>
</dl>
<dl class="docutils">
<dt>X_src, Y_src <span class="classifier-delimiter">:</span> <span class="classifier">np.arrays</span></dt>
<dd>positions of the sources</dd>
<dt>nx, ny <span class="classifier-delimiter">:</span> <span class="classifier">ints</span></dt>
<dd>number of sources in directions x,y
new n_src = nx * ny may not be equal to the demanded number of sources</dd>
<dt>R <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>effective radius of the basis element</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="elephant.current_source_density_src.utility_functions.distribute_srcs_3D">
<code class="descclassname">elephant.current_source_density_src.utility_functions.</code><code class="descname">distribute_srcs_3D</code><span class="sig-paren">(</span><em>X</em>, <em>Y</em>, <em>Z</em>, <em>n_src</em>, <em>ext_x</em>, <em>ext_y</em>, <em>ext_z</em>, <em>R_init</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elephant/current_source_density_src/utility_functions.html#distribute_srcs_3D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#elephant.current_source_density_src.utility_functions.distribute_srcs_3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Distribute n_src sources evenly in a rectangle of size Lx * Ly * Lz
Parameters
&#8212;&#8212;&#8212;-
X, Y, Z : np.arrays</p>
<blockquote>
<div>points at which CSD will be estimated</div></blockquote>
<dl class="docutils">
<dt>n_src <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>desired number of sources we want to include in the model</dd>
<dt>ext_x, ext_y, ext_z <span class="classifier-delimiter">:</span> <span class="classifier">floats</span></dt>
<dd>how should the sources extend over the area X,Y,Z</dd>
<dt>R_init <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>demanded radius of the basis element</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>X_src, Y_src, Z_src</strong> : np.arrays</p>
<blockquote>
<div><p>positions of the sources in 3D space</p>
</div></blockquote>
<p><strong>nx, ny, nz</strong> : ints</p>
<blockquote>
<div><p>number of sources in directions x,y,z
new n_src = nx * ny * nz may not be equal to the demanded number of
sources</p>
</div></blockquote>
<p><strong>R</strong> : float</p>
<blockquote class="last">
<div><p>updated radius of the basis element</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="elephant.current_source_density_src.utility_functions.gauss_1d_dipole">
<code class="descclassname">elephant.current_source_density_src.utility_functions.</code><code class="descname">gauss_1d_dipole</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elephant/current_source_density_src/utility_functions.html#gauss_1d_dipole"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#elephant.current_source_density_src.utility_functions.gauss_1d_dipole" title="Permalink to this definition">¶</a></dt>
<dd><p>1D Gaussian dipole source is placed between 0 and 1
to be used to test the CSD</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : np.array</p>
<blockquote>
<div><p>Spatial pts. at which the true csd is evaluated</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>f</strong> : np.array</p>
<blockquote class="last">
<div><p>The value of the csd at the requested points</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="elephant.current_source_density_src.utility_functions.gauss_3d_dipole">
<code class="descclassname">elephant.current_source_density_src.utility_functions.</code><code class="descname">gauss_3d_dipole</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>z</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elephant/current_source_density_src/utility_functions.html#gauss_3d_dipole"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#elephant.current_source_density_src.utility_functions.gauss_3d_dipole" title="Permalink to this definition">¶</a></dt>
<dd><p>3D Gaussian dipole profile - to be used to test csd.
Parameters
&#8212;&#8212;&#8212;-
x : np.array</p>
<blockquote>
<div>Spatial x pts. at which the true csd is evaluated</div></blockquote>
<dl class="docutils">
<dt>y <span class="classifier-delimiter">:</span> <span class="classifier">np.array</span></dt>
<dd>Spatial y pts. at which the true csd is evaluated</dd>
<dt>z <span class="classifier-delimiter">:</span> <span class="classifier">np.array</span></dt>
<dd>Spatial z pts. at which the true csd is evaluated</dd>
</dl>
<dl class="docutils">
<dt>f <span class="classifier-delimiter">:</span> <span class="classifier">np.array</span></dt>
<dd>The value of the csd at the requested points</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="elephant.current_source_density_src.utility_functions.generate_electrodes">
<code class="descclassname">elephant.current_source_density_src.utility_functions.</code><code class="descname">generate_electrodes</code><span class="sig-paren">(</span><em>dim, xlims=[0.1, 0.9], ylims=[0.1, 0.9], zlims=[0.1, 0.9], res=5</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elephant/current_source_density_src/utility_functions.html#generate_electrodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#elephant.current_source_density_src.utility_functions.generate_electrodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates electrodes, helpful for FWD funtion.
Parameters
&#8212;&#8212;&#8212;-
dim : int</p>
<blockquote>
<div>Dimensionality of the electrodes, 1,2 or 3</div></blockquote>
<dl class="docutils">
<dt>xlims <span class="classifier-delimiter">:</span> <span class="classifier">[start, end]</span></dt>
<dd>Spatial limits of the electrodes</dd>
<dt>ylims <span class="classifier-delimiter">:</span> <span class="classifier">[start, end]</span></dt>
<dd>Spatial limits of the electrodes</dd>
<dt>zlims <span class="classifier-delimiter">:</span> <span class="classifier">[start, end]</span></dt>
<dd>Spatial limits of the electrodes</dd>
<dt>res <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>How many electrodes in each dimension</dd>
</dl>
<p>ele_x, ele_y, ele_z : flattened np.array of the electrode pos</p>
</dd></dl>

<dl class="function">
<dt id="elephant.current_source_density_src.utility_functions.get_src_params_2D">
<code class="descclassname">elephant.current_source_density_src.utility_functions.</code><code class="descname">get_src_params_2D</code><span class="sig-paren">(</span><em>Lx</em>, <em>Ly</em>, <em>n_src</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elephant/current_source_density_src/utility_functions.html#get_src_params_2D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#elephant.current_source_density_src.utility_functions.get_src_params_2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Distribute n_src sources evenly in a rectangle of size Lx * Ly
Parameters
&#8212;&#8212;&#8212;-
Lx, Ly : floats</p>
<blockquote>
<div>lengths in the directions x, y of the area,
the sources should be placed</div></blockquote>
<dl class="docutils">
<dt>n_src <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>demanded number of sources</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>nx, ny</strong> : ints</p>
<blockquote>
<div><p>number of sources in directions x, y
new n_src = nx * ny may not be equal to the demanded number of sources</p>
</div></blockquote>
<p><strong>Lx_n, Ly_n</strong> : floats</p>
<blockquote>
<div><p>updated lengths in the directions x, y</p>
</div></blockquote>
<p><strong>ds</strong> : float</p>
<blockquote class="last">
<div><p>spacing between the sources</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="elephant.current_source_density_src.utility_functions.get_src_params_3D">
<code class="descclassname">elephant.current_source_density_src.utility_functions.</code><code class="descname">get_src_params_3D</code><span class="sig-paren">(</span><em>Lx</em>, <em>Ly</em>, <em>Lz</em>, <em>n_src</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elephant/current_source_density_src/utility_functions.html#get_src_params_3D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#elephant.current_source_density_src.utility_functions.get_src_params_3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Helps to evenly distribute n_src sources in a cuboid of size Lx * Ly * Lz
Parameters
&#8212;&#8212;&#8212;-
Lx, Ly, Lz : floats</p>
<blockquote>
<div>lengths in the directions x, y, z of the area,
the sources should be placed</div></blockquote>
<dl class="docutils">
<dt>n_src <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>demanded number of sources to be included in the model</dd>
</dl>
<dl class="docutils">
<dt>nx, ny, nz <span class="classifier-delimiter">:</span> <span class="classifier">ints</span></dt>
<dd>number of sources in directions x, y, z
new n_src = nx * ny * nz may not be equal to the demanded number of
sources</dd>
<dt>Lx_n, Ly_n, Lz_n <span class="classifier-delimiter">:</span> <span class="classifier">floats</span></dt>
<dd>updated lengths in the directions x, y, z</dd>
<dt>ds <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>spacing between the sources (grid nodes)</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="elephant.current_source_density_src.utility_functions.large_source_2D">
<code class="descclassname">elephant.current_source_density_src.utility_functions.</code><code class="descname">large_source_2D</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elephant/current_source_density_src/utility_functions.html#large_source_2D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#elephant.current_source_density_src.utility_functions.large_source_2D" title="Permalink to this definition">¶</a></dt>
<dd><p>2D Gaussian large source profile - to use to test csd
Parameters
&#8212;&#8212;&#8212;-
x : np.array</p>
<blockquote>
<div>Spatial x pts. at which the true csd is evaluated</div></blockquote>
<dl class="docutils">
<dt>y <span class="classifier-delimiter">:</span> <span class="classifier">np.array</span></dt>
<dd>Spatial y pts. at which the true csd is evaluated</dd>
</dl>
<dl class="docutils">
<dt>f <span class="classifier-delimiter">:</span> <span class="classifier">np.array</span></dt>
<dd>The value of the csd at the requested points</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="elephant.current_source_density_src.utility_functions.patch_quantities">
<code class="descclassname">elephant.current_source_density_src.utility_functions.</code><code class="descname">patch_quantities</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elephant/current_source_density_src/utility_functions.html#patch_quantities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#elephant.current_source_density_src.utility_functions.patch_quantities" title="Permalink to this definition">¶</a></dt>
<dd><p>patch quantities with the SI unit Siemens if it does not exist</p>
</dd></dl>

<dl class="function">
<dt id="elephant.current_source_density_src.utility_functions.small_source_2D">
<code class="descclassname">elephant.current_source_density_src.utility_functions.</code><code class="descname">small_source_2D</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/elephant/current_source_density_src/utility_functions.html#small_source_2D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#elephant.current_source_density_src.utility_functions.small_source_2D" title="Permalink to this definition">¶</a></dt>
<dd><p>2D Gaussian small source profile - to be used to test csd
Parameters
&#8212;&#8212;&#8212;-
x : np.array</p>
<blockquote>
<div>Spatial x pts. at which the true csd is evaluated</div></blockquote>
<dl class="docutils">
<dt>y <span class="classifier-delimiter">:</span> <span class="classifier">np.array</span></dt>
<dd>Spatial y pts. at which the true csd is evaluated</dd>
</dl>
<dl class="docutils">
<dt>f <span class="classifier-delimiter">:</span> <span class="classifier">np.array</span></dt>
<dd>The value of the csd at the requested points</dd>
</dl>
</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014-2018, Elephant authors and contributors.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.6.<br/>
    </p>
  </div>
</footer>
  </body>
</html>