<?xml version="1.0" encoding="UTF-8"?>
<!-- 
# This file is part of the Cortix toolkit environment
# https://cortix.org
#
# All rights reserved, see COPYRIGHT for full restrictions.
# https://github.com/dpploy/cortix/blob/master/COPYRIGHT.txt
#
# Licensed under the University of Massachusetts Lowell LICENSE:
# https://github.com/dpploy/cortix/blob/master/LICENSE.txt
-->

<!-- Configuration of Cortix -->

<cortix_config version="0.1">

<!-- ****************************************************************************** -->
<!--                     CORTIX object starts here                                  -->

<!-- Cortix instantiation definition -->
<!-- NB: XML elements in this level must be unique across other configuration files if
         multiple Cortix objects are used in the cortix-main.py program.
         If this rule is not followed, there will be collision with file in/outputs;
         including results files and logging files.-->

 <name>cortix-droplet</name>

 <logger level="DEBUG">
  <file_handler level="DEBUG"> </file_handler>
  <console_handler level="INFO"> </console_handler>
 </logger>

 <work_dir>/tmp/</work_dir>

 <!-- ============================================================================= -->
 <!--                Simulation object starts here                                  -->

 <!-- Simulation definition -->
 <!-- NB: each simulation has only one application -->

 <simulation name="droplet">

  <logger level="DEBUG">
   <file_handler level="DEBUG"> </file_handler>
   <console_handler level="INFO"> </console_handler>
  </logger>

  <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
  <!--                   Tasks objects start here                                   -->

  <!-- Simulation: tasks -->
  <!--NB: each task combines parameters for one named application connectivity-->
  <!--NB: each task name must match a network name below-->

  <task name="droplet-fall" >
   <start_time unit="minute">0.0</start_time>
   <evolve_time unit="minute">2.5</evolve_time>
   <time_step unit="second">0.5</time_step>
   <logger level="DEBUG">
    <file_handler level="DEBUG"> </file_handler>
    <console_handler level="INFO"> </console_handler>
   </logger>
  </task>

  <!--                   Tasks objects end here                                     -->
  <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

  <!-- ############################################################################ -->
  <!--                   Application object starts here                             -->

  <!-- Simulation: application -->
  <!-- NB: each simulation has only one application -->

  <application name="droplet">

   <module_library>
    <home_dir>
        $CORTIX/cortix/examples/modulib
    </home_dir>
   </module_library>

   <logger level="DEBUG">
    <file_handler level="DEBUG"> </file_handler>
    <console_handler level="INFO"> </console_handler>
   </logger>

   <!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
   <!--                  Modules objects starts here                                -->
   <!-- Application: modules set -->

   <!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->

   <module name="droplet" type="native">
    <input_file_name>droplet.input</input_file_name>
    <input_file_path>$CORTIX/cortix/tests/input</input_file_path>
    <logger level="DEBUG">
     <file_handler level="DEBUG"> </file_handler>
     <console_handler level="INFO"> </console_handler>
    </logger>
   </module>

   <module name="pyplot" type="native">
    <library>
     <home_dir>
         $CORTIX/cortix/modulib
     </home_dir>
    </library>
    <input_file_name>pyplot.input</input_file_name>
    <input_file_path>$CORTIX/cortix/tests/input</input_file_path>
    <logger level="DEBUG">
     <file_handler level="DEBUG"> </file_handler>
     <console_handler level="INFO"> </console_handler>
    </logger>
   </module>

   <!--                  Modules objects end here                                   -->
   <!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->

   <!-- o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o -->
   <!--                  Network objects start here                                 -->

   <!-- Application: networks -->
   <!-- NB: each network has its own task definition above; with the same name -->
   <!-- NB: the connect tag is ordered: *from* is the receiver; *to* is the provider-->
   <!-- NB: port labels are the "names" of the ports; "not" a file name necessarily-->
   <!-- NB: module labels must be composed with a "slot" number, say "name:x"-->

   <!-- o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o -->

   <network name="droplet-fall">
    <logger level="DEBUG">
     <file_handler level="DEBUG"> </file_handler>
     <console_handler level="INFO"> </console_handler>
    </logger>
    <!-- Modules need to be given a slot number; use a colon after the name followed by an integer-->
    <!-- For self-connection of a module: fromPort is use type; toPort is input type-->
    <!-- For self-connection of a module: fromPort is output type; toPort is provide type-->
    <connect fromModuleSlot="droplet:0" fromPort="input" toModuleSlot="droplet:0" toPort="self-input"/>
    <connect fromModuleSlot="droplet:0" fromPort="self-output" toModuleSlot="droplet:0" toPort="output"/>
    <connect fromModuleSlot="pyplot:0" fromPort="time-sequence" toModuleSlot="droplet:0" toPort="state"/>
   </network>

   <!--                  Network objects end here                                   -->
   <!-- o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o-o -->

  <!--                   Application object ends here                               -->
  <!-- ############################################################################ -->
  </application>

 <!--                Simulation object ends here                                    -->
 <!-- ============================================================================= -->
 </simulation>

</cortix_config>
