cat3k_login:
  prompt: "Username: "
  commands:
    "cisco":
      new_state: cat3k_password

cat3k_password:
  prompt: "Password: "
  commands:
    "cisco":
      new_state: cat3k_exec

cat3k_exec:
  prompt: "Router>"
  commands: 
    "show version": &SV |2
      Cisco IOS XE Software, Version BLD_POLARIS_DEV_LATEST_20170430_051046
      Cisco IOS Software [Everest], Catalyst L3 Switch Software (CAT3K_CAA-UNIVERSALK9-M), Experimental Version 16.7.20170430:042622 [polaris_dev-/scratch/mcpre/BLD-BLD_POLARIS_DEV_LATEST_20170430_051046 121]
      Copyright (c) 1986-2017 by Cisco Systems, Inc.
      Compiled Sun 30-Apr-17 01:51 by mcpre


      Cisco IOS-XE software, Copyright (c) 2005-2017 by cisco Systems, Inc.
      All rights reserved.  Certain components of Cisco IOS-XE software are
      licensed under the GNU General Public License ("GPL") Version 2.0.  The
      software code licensed under GPL Version 2.0 is free software that comes
      with ABSOLUTELY NO WARRANTY.  You can redistribute and/or modify such
      GPL code under the terms of GPL Version 2.0.  For more details, see the
      documentation or "License Notice" file accompanying the IOS-XE software,
      or the applicable URL provided on the flyer accompanying the IOS-XE
      software.


      ROM: IOS-XE ROMMON
      BOOTLDR: CAT3K_CAA Boot Loader (CAT3K_CAA-HBOOT-M) Version 4.58, engineering software (D)

      Switch uptime is 7 minutes
      Uptime for this control processor is 12 minutes
      System returned to ROM by reload
      System image file is "flash:/cat3k_caa-universalk9.BLD_POLARIS_DEV_LATEST_20170430_051046.SSA.bin.r1"
      Last reload reason: Reload Command



      This product contains cryptographic features and is subject to United
      States and local country laws governing import, export, transfer and
      use. Delivery of Cisco cryptographic products does not imply
      third-party authority to import, export, distribute or use encryption.
      Importers, exporters, distributors and users are responsible for
      compliance with U.S. and local country laws. By using this product you
      agree to comply with applicable laws and regulations. If you are unable
      to comply with U.S. and local laws, return this product immediately.

      A summary of U.S. laws governing Cisco cryptographic products may be found at:
      http://www.cisco.com/wwl/export/crypto/tool/stqrg.html

      If you require further assistance please contact us by sending email to
      export@cisco.com.


      Technology Package License Information: 

      -----------------------------------------------------------------
      Technology-package                   Technology-package
      Current             Type             Next reboot  
      ------------------------------------------------------------------
      lanbasek9           Permanent        lanbasek9

      cisco WS-C3850-24P (MIPS) processor (revision U0) with 851904K/6147K bytes of memory.
      Processor board ID FCW1932C0QQ
      1 Virtual Ethernet interface
      84 Gigabit Ethernet interfaces
      12 Ten Gigabit Ethernet interfaces
      2048K bytes of non-volatile configuration memory.
      4194304K bytes of physical memory.
      250456K bytes of Crash Files at crashinfo:.
      250456K bytes of Crash Files at crashinfo-2:.
      250456K bytes of Crash Files at crashinfo-3:.
      1609272K bytes of Flash at flash:.
      1609272K bytes of Flash at flash-2:.
      1609272K bytes of Flash at flash-3:.
      0K bytes of WebUI ODM Files at webui:.

      Base Ethernet MAC Address          : 38:20:56:72:88:00
      Motherboard Assembly Number        : 73-15805-04
      Motherboard Serial Number          : FOC19315RWR
      Model Revision Number              : U0
      Motherboard Revision Number        : A0
      Model Number                       : WS-C3850-24P
      System Serial Number               : FCW1932C0QQ


      Switch Ports Model              SW Version        SW Image              Mode   
      ------ ----- -----              ----------        ----------            ----   
      *    1 32    WS-C3850-24P       16.7.1            CAT3K_CAA-UNIVERSALK9 BUNDLE 
           2 32    WS-C3850-24P       16.7.1            CAT3K_CAA-UNIVERSALK9 BUNDLE 
           3 32    WS-C3850-24P       16.7.1            CAT3K_CAA-UNIVERSALK9 BUNDLE 


      Switch 02
      ---------
      Switch uptime                      : 13 minutes 

      Base Ethernet MAC Address          : f0:78:16:fd:fc:00
      Motherboard Assembly Number        : 73-15805-05
      Motherboard Serial Number          : FOC19184Y3G
      Model Revision Number              : AC0
      Motherboard Revision Number        : A0
      Model Number                       : WS-C3850-24P
      System Serial Number               : FOC1919U0PB

      Switch 03
      ---------
      Switch uptime                      : 12 minutes 

      Base Ethernet MAC Address          : 38:20:56:23:30:80
      Motherboard Assembly Number        : 73-15805-04
      Motherboard Serial Number          : FOC19315SAM
      Model Revision Number              : U0
      Motherboard Revision Number        : A0
      Model Number                       : WS-C3850-24P
      System Serial Number               : FOC1932X0RW

      Configuration register is 0x102

    "enable":
      new_state: enable_cat3k


enable_cat3k:
  prompt: "Router#"
  commands:
    "term length 0": ""
    "term width 0": ""
    "show version": *SV

    # The following commands are for uniclean testing.
    "show version | inc System image file is": |2
      System image file is "flash:/cat3k_caa-universalk9.BLD_POLARIS_DEV_LATEST_20170430_051046.SSA.bin.r1"


    "dir /all /recursive flash:/cat3k_caa-universalk9.BLD_POLARIS_DEV_LATEST_20170430_051046.SSA.bin.r1": |2
      Directory of flash:/cat3k_caa-universalk9.BLD_POLARIS_DEV_LATEST_20170430_051046.SSA.bin.r1

      Directory of flash:/

      23234  -rw-   613363720   May 3 2017 08:59:15 +00:00  cat3k_caa-universalk9.BLD_POLARIS_DEV_LATEST_20170430_051046.SSA.bin.r1
      1621966848 bytes total (304480256 bytes free)


    "config term":
      new_state: config_cat3k

    "disable":
      new_state: cat3k_exec


config_cat3k:
  prompt: "Router(config)#"
  commands:
    "no logging console": ""
    "line console 0":
      new_state: config_line_cat3k

config_line_cat3k:
  prompt: "Router(config-line)#"
  commands:
    "exec-timeout 0": ""
    "end":
      new_state: enable_cat3k
